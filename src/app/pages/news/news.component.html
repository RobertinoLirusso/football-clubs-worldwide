<div class="container">
  <app-header></app-header>
  
  <div class="w3-container w3-padding w3-light-grey">
    <h2 class="w3-center page-title title">Latest News</h2>

    <!-- Botón Daily Scores -->
    <div class="w3-center w3-padding">
      <button 
        (click)="loadMatchResults()" 
        class="w3-btn w3-black w3-margin-top title-game load-more-btn">
        <i class="fa fa-futbol-o"></i> Daily Scores
      </button>
    </div>

    <div *ngIf="loading" class="w3-center w3-padding">
      <i class="fa fa-spinner fa-spin"></i> Loading news...
    </div>

    <div class="news-grid">
      <article *ngFor="let article of articles" class="w3-card news-card">
        <div class="news-content">
          <h3 class="news-title">{{ article.title }}</h3>
          <p class="news-description" [innerHTML]="article.description"></p>
          <div class="news-footer">
            <small class="news-date">{{ article.pubDate }}</small>
            <a [href]="article.link" target="_blank" class="w3-button read-more">
              Read more <i class="fa fa-external-link"></i>
            </a>
            <small class="news-source">
              {{ article.source }}
            </small>            
          </div>
        </div>
      </article>
    </div>

    <!-- Botón para cargar más -->
    <div *ngIf="hasMoreArticles && !loading" class="w3-center w3-padding">
      <button 
        (click)="loadMore()" 
        class="w3-btn w3-black w3-margin-top title-game load-more-btn"
        [disabled]="loadingMore">
        <span *ngIf="!loadingMore">
          Load More
        </span>
        <span *ngIf="loadingMore">
          <i class="fa fa-spinner fa-spin"></i> Loading...
        </span>
      </button>
    </div>
  </div>

  <!-- Modal de Match Results -->
  <div *ngIf="showMatchResultsModal" class="w3-modal" style="display:block;">
    <div class="w3-modal-content w3-card-4 modal-scores">
      <header class="w3-container modal-header">
        <span (click)="closeMatchResultsModal()" 
              class="w3-button w3-display-topright close-btn">&times;</span>
        <h3><i class="fa fa-futbol-o"></i> Daily Match Results</h3>
      </header>
      
      <div class="w3-container w3-padding modal-body">
        <div *ngIf="loadingMatchResults" class="w3-center w3-padding">
          <i class="fa fa-spinner fa-spin fa-2x"></i>
          <p>Loading match results...</p>
        </div>

        <div *ngIf="!loadingMatchResults && matchResults.length === 0" class="w3-center w3-padding">
          <p>No match results available</p>
        </div>

        <div *ngIf="!loadingMatchResults && matchResults.length > 0" class="match-results-list">
          <div *ngFor="let match of matchResults" class="w3-card-2 w3-margin-bottom match-item">
            <div class="w3-container w3-padding-small">
              <h5 class="w3-text-black match-title">{{ match.title }}</h5>
              <p class="match-description" *ngIf="match.description" [innerHTML]="match.description"></p>
              <div class="w3-row">
                <div class="w3-col s6">
                  <small class="w3-text-grey">
                    <i class="fa fa-clock-o"></i> {{ match.pubDate }}
                  </small>
                </div>
                <div class="w3-col s6 w3-right-align">
                  <a [href]="match.link" target="_blank" class="w3-button w3-small match-link-btn">
                    Details <i class="fa fa-external-link"></i>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      
      <footer class="w3-container w3-light-grey w3-padding">
        <button (click)="closeMatchResultsModal()" class="w3-button w3-red w3-right">Close</button>
      </footer>
    </div>
  </div>

  <app-footer></app-footer>
</div>