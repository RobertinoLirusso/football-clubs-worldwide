<div class="container">
    <app-header></app-header>
    <div class="w3-container w3-center w3-padding">
        <h2><i class="fas fa-gamepad"></i> Guess the Club!</h2>

        <div *ngIf="!gameOver">
            <!-- Logo del Club -->
            <div *ngIf="selectedClub">
                <img [src]="selectedClub.club_logo" class="club-logo blurred">
            </div>

            <!-- Opciones de Respuesta -->
            <div class="w3-margin-top">
                <button *ngFor="let option of options" 
                        (click)="checkAnswer(option)" 
                        class="w3-btn w3-black w3-margin">
                    <i class="fas fa-futbol"></i> {{ option }}
                </button>
            </div>
        </div>

        <!-- Mensaje Final y Logo sin desenfoque -->
        <div *ngIf="gameOver">
            <!-- Logo del Club sin desenfoque -->
            <div *ngIf="selectedClub">
                <img [src]="selectedClub.club_logo" class="club-logo">
            </div>

            <!-- Mensaje de Acierto -->
            <h3 *ngIf="isCorrect">
                <i class="fas fa-check-circle"></i> Correct! It's {{ selectedClub.club_name }}!
            </h3>

            <!-- Mensaje de Error -->
            <h3 *ngIf="!isCorrect">
                <i class="fas fa-times-circle"></i> Wrong! The correct answer was {{ selectedClub.club_name }}.
            </h3>

            <!-- Mostrar la racha actual si el jugador acierta -->
            <h3 *ngIf="isCorrect">
                Your Streak: {{ streak }} correct answers in a row!
            </h3>

            <!-- Mostrar el resultado final si el jugador pierde -->
            <h3 *ngIf="!isCorrect && lastScore > 0">
                You got {{ lastScore }} correct answers in total!
            </h3>

            <button (click)="startGame()" class="w3-btn w3-margin" 
            [ngClass]="isCorrect ? 'w3-black' : 'w3-blue'">
            <i class="fas" [ngClass]="isCorrect ? 'fa-arrow-right' : 'fa-redo'"></i> 
            {{ isCorrect ? 'Next' : 'Play Again' }}
        </button>    
        </div>

    </div>
    <app-footer></app-footer>
</div>
